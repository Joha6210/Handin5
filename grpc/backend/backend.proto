syntax = "proto3";
package main;
option go_package = ".";

import "google/protobuf/empty.proto";
import "grpc/auctionServer/auction.proto";

service Backend {
   rpc TryToUpdateBid (Amount) returns (Ack);
   rpc Forward  (Amount) returns (BackendAck);
   rpc Election (Message) returns (Answer);
   rpc Victory (Message) returns (Ack);
   rpc Ping (google.protobuf.Empty) returns (Answer);
}

message Answer{
    string id = 1;
    int32 clock = 2;
}

message Message{
    string id = 1;
    int32 clock = 2;
}

message BackendAck{
    int32 clock = 2; //Logical Lamport clock
    Ack_types ack = 3;
    bool isOver = 4;
}
